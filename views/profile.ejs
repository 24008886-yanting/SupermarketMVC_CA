<div class="container py-5 mt-5">
  <div class="row justify-content-center">
    <div class="col-lg-6">
      <% const profileHeading = userData && userData.role === 'admin' ? 'Your Admin Profile' : 'Your User Profile'; %>
      <h1 class="mb-4"><%= profileHeading %></h1>

      <% if (errors && errors.length > 0) { %>
        <div class="alert alert-danger">
          <% errors.forEach(function(message) { %>
            <div><%= message %></div>
          <% }) %>
        </div>
      <% } %>

      <% if (messages && messages.length > 0) { %>
        <div class="alert alert-success">
          <% messages.forEach(function(message) { %>
            <div><%= message %></div>
          <% }) %>
        </div>
      <% } %>

      <form action="/profile" method="POST" class="card shadow-sm border-0">
        <div class="card-body">
          <div class="mb-3">
            <label class="form-label" for="username">Username</label>
            <input
              type="text"
              id="username"
              name="username"
              class="form-control"
              required
              value="<%= userData && userData.username ? userData.username : '' %>"
            >
          </div>

          <div class="mb-3">
            <label class="form-label" for="email">Email</label>
            <input
              type="email"
              id="email"
              name="email"
              class="form-control"
              value="<%= userData && userData.email ? userData.email : '' %>"
              readonly
            >
            <div class="form-text">Email cannot be changed.</div>
          </div>

          <div class="mb-3">
            <label class="form-label" for="address">Address</label>
            <input
              type="text"
              id="address"
              name="address"
              class="form-control"
              required
              value="<%= userData && userData.address ? userData.address : '' %>"
            >
          </div>

          <div class="mb-4">
            <label class="form-label" for="contact">Contact Number</label>
            <input
              type="text"
              id="contact"
              name="contact"
              class="form-control"
              required
              value="<%= userData && userData.contact ? userData.contact : '' %>"
            >
          </div>

          <div class="mb-3">
            <label class="form-label" for="password">New Password</label>
            <input
              type="password"
              id="password"
              name="password"
              class="form-control"
              placeholder="Leave blank to keep current password"
            >
          </div>

          <div class="mb-4">
            <label class="form-label" for="confirmPassword">Confirm New Password</label>
            <input
              type="password"
              id="confirmPassword"
              name="confirmPassword"
              class="form-control"
              placeholder="Re-enter new password"
            >
          </div>

          <div class="d-grid">
            <button type="submit" class="btn btn-success btn-lg">Save changes</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
